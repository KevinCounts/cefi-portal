<h2>Data Access</h2>
<div class = "row">
  <div class="col-12">
    <p>
      Currently, the regional MOM6 output can be accessed through the PSL THREDDS server.
      Users have the flexibility to choose their preferred method of data retrieval from this server.
      Additionally, an alternative option involving AWS cloud storage is under consideration and may become available in the near future.
      This option is currently undergoing testing.
      For direct access to the THREDDS server, please follow the provided link
      <a href="https://psl.noaa.gov/thredds/catalog/Projects/CEFI/regional_mom6/catalog.html" target="_blank">https://psl.noaa.gov/thredds/catalog/Projects/CEFI/regional_mom6/catalog.html</a>.</p>
    </p>

    <h3>Data citation</h3>
    <ul>
      <li>Historical run (Northwest Atlantic): <a href="https://zenodo.org/records/7893387" target="_blank">DOI:10.5281/zenodo.7893386</a></li>
      <li>Forecast (Northwest Atlantic): <a href="https://zenodo.org/records/10642295" target="_blank">DOI:10.5281/zenodo.10642294.</a></li>
    </ul>
      
    <h3>Data Query Generator</h3>
    <p>
      The data query generator is designed to swiftly generate command line code or code snippets, facilitating user access to the data.
      It is recommended to use the OPeNDAP server for querying data when only a subset is required.
      However, if there's a need to download the entire dataset, the final options provide the necessary command line for data download.
    </p>
  </div>

  <div class="userInput col-12">
    <h1 class="userInputTitle"><em>Data Options</em></h1>

    <input type="radio" class="radioData" id="radioOpendap" name="dataOptions" checked>
    <label for="radioOpendap">OPeNDAP</label>
    <input type="radio" class="radioData" id="radioWget" name="dataOptions">
    <label for="radioWget">Download netCDF</label>
    <br>
    
    <table class="rowGap">
        <tr>
          <td>Region : </td>
          <td>
              <select name="region" id="regMOMCobaltData" class="reg-mom-cobalt"></select>
          </td>
        </tr>
        <tr>
          <td>Period : </td>
          <td>
              <select id="periodMOMCobaltData">
                <option value="hist_run">Historical Run</option>
                <option value="forecast">Forecast/reforecast</option>
              </select>
          </td>
        </tr>
        <tr>
          <td>Variable : </td>
          <td>
              <select id="varMOMCobaltData"></select>
          </td>
        </tr>
        <tr>
          <td>Grid : </td>
          <td>
              <select id="gridMOMCobalt">
                  <option value="raw">Raw grid (Curvilinear)</option>
                  <option value="regrid">Regular grid</option>
              </select>
          </td>
        </tr>
        <tr class="histrunOpt">
          <td>Year : </td>
          <td>
              <select id="yearMOMCobaltHistrunData"></select>
          </td>
        </tr>
        <tr class="histrunOpt">
          <td>Month : </td>
          <td>
              <select id="monthMOMCobaltHistrunData"></select>
          </td>
        </tr>
        <tr class="forecastOpt hidden">
          <td>Initial year : </td>
          <td>
              <select id="iyearMOMCobaltForecastData"></select>
          </td>
        </tr>
        <tr class="forecastOpt hidden">
          <td>Initial month : </td>
          <td>
              <select id="imonthMOMCobaltForecastData"></select>
          </td>
        </tr>
    </table> 
  </div>
  <br>
  <button id="genQueryButton" class="btn btn-psl">Generate Queries</button>
  <hr class="dot-hr-plot">
</div>
  
  
<div class = "row">
  <div class="col-12 opendapOpt">
    <h4><strong>OPeNDAP URL</strong></h4>
    <p>
        Using OPeNDAP can subset the data to a smaller region or time frame.
        The OPeNDAP server has a <strong>500MB</strong> limit per request.
        A loop is suggested to load data that is larger than 500 MB.
    </p>
    <pre id="codeBlockOpendap"><code class="codeBlockScroll">Please generate query first!</code></pre> 
    <button id="copyButtonOpendap" class="btn btn-psl">Copy OPeNDAP URL</button>
    <hr class="dot-hr-plot">

    <h4><strong>OPeNDAP (Python)</strong></h4>
        <p>
            For the following Python code to work. 
            Please following the environment setup.
            Detail access tutorial is <a href="https://noaa-cefi-portal.github.io/cefi-cookbook/content/data_access/access_opendap/python_get_cefi.html" target="_blank"><strong>here</strong></a>
        </p>
    <pre id="codeBlockPython"><code class="codeBlockScroll">Please generate query first!</code></pre> 
    <button id="copyButtonPython" class="btn btn-psl">Copy Python Code</button>
    <hr class="dot-hr-plot">

    <h4><strong>OPeNDAP (R)</strong></h4>
        <p>
            For the following R code to work. 
            Please following the environment setup.
            Detail access tutorial is <a href="https://noaa-cefi-portal.github.io/cefi-cookbook/content/data_access/access_opendap/r_get_cefi.html" target="_blank"><strong>here</strong></a>
        </p>
    <pre id="codeBlockR"><code class="codeBlockScroll">Please generate query first!</code></pre> 
    <button id="copyButtonR" class="btn btn-psl">Copy R Code</button>            
    <hr class="dot-hr-plot">
  </div>
  <div class="col-12 wgetOpt hidden">
    <h4><strong>Wget</strong></h4>
    <pre id="codeBlockWget"><code class="codeBlockScroll">Please generate query first!</code></pre> 
    <button id="copyButtonWget" class="btn btn-psl">Copy Wget Code</button>
    <hr class="dot-hr-plot">
  </div>
</div>


